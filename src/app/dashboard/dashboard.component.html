<div>
  <div>
    <h3>
      Please input an email address: (you can search business cards by email)
    </h3>
    <div>
      <label>Email: </label>
      <input type="text" [(ngModel)]="searchConditionEmail">
      <button (click)="searchByEmail()" class="common-margin">Search</button>
    </div>

    <div *ngIf="businessCardSearchedByEmail">
      <app-business-card-detail [businessCard]="businessCardSearchedByEmail" [searchBy]="'by email'"></app-business-card-detail>
    </div>
  </div>

  <br>
  <div>
    <h3>
      Web Camera:
    </h3>
    <div>
      <div *ngIf="useCamera">
          <webcam [height]="360" [width]="480" [trigger]="triggerObservable" (imageCapture)="handleImage($event)" *ngIf="useCamera"></webcam>
      </div>
      <button (click)="takeSnapshot()" *ngIf="useCamera" class="detected-margin">Take A Snapshot</button>
      <button (click)="toggleWebCamera()" class="detected-margin">Toggle Camera</button>
    </div>
    <!--<div *ngIf="imageTaken">
      <h3>
        Image taken from web camera:
      </h3>
      <img [src]="webcamImage.imageAsDataUrl" [height]="360" width="480">
    </div>-->
  </div>

  <br>
  <div>
    <button (click)="textDetection()" [disabled]="!imageTaken" class="detected-margin">Text Detect</button>
    <button (click)="addDetectedBusinessCard()" [disabled]="!detected" class="detected-margin">Add Detected Business Card</button>
    <div class="detected-margin">
      <label>Detected First Name: </label>
      <input type="text" [(ngModel)]="detectedFirstName" [disabled]="!detected">
    </div>
    <div class="detected-margin">
      <label>Detected Last Name: </label>
      <input type="text" [(ngModel)]="detectedLastName" [disabled]="!detected">
    </div>
    <div class="detected-margin">
      <label>Detected Email: </label>
      <input type="text" [(ngModel)]="detectedEmail" [disabled]="!detected">
    </div>
    <div class="detected-margin">
      <label>Detected Phone Number: </label>
      <input type="text" [(ngModel)]="detectedPhoneNumber" [disabled]="!detected">
    </div>
    <div class="detected-margin">
      <label>Detected Extra Text: </label>
      <input type="text" [(ngModel)]="detectedExtraText" [disabled]="!detected">
    </div>
  </div>

  <br>
  <div *ngIf="!businessCards || businessCards.length <= 0">
    <h3>
      There is no business card in database!
    </h3>
  </div>
  <div *ngIf="businessCards && businessCards.length > 0">
    <h3>
      Current business cards in database:
    </h3>
    <div *ngFor="let businessCard of businessCards; let i = index">
      <div>
        <span>
          {{ i + 1 }}.
        </span>
        <!--<span>
          {{ businessCard.firstName }},
        </span>
        <span>
          {{ businessCard.lastName }},
        </span>-->
        <span>
          {{ businessCard.phoneNumber }},
        </span>
        <span>
          {{ businessCard.email }},
        </span>
        <!--<span>
          {{ businessCard.extraText }}
        </span>-->
      </div>
      <div>
          <img [src]="businessCard.imageUri" [height]="270" [width]="360">
      </div>
    </div>
  </div>

  
</div>

